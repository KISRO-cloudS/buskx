{% extends 'main/face.html' %}

{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="2IjHwnbJp2eoJ42Ec2-vy5FHzwfpyA4qxZlA2Ct1lW8" />
    <meta name="msvalidate.01" content="2DF73531AC8292B0D47E7DEAE6EEF4CF" />
    <meta name="yandex-verification" content="27149014e6b080dd" />
    <meta name="description" content="Join RallyNex to support impactful campaigns across global causes like Environmental Conservation, Education, Health, and Equality. Create, share, and fund projects that drive positive change in your community and beyond. Become part of a passionate community dedicated to making a difference today!">
    <meta name="keywords" content="crowdfunding, global causes, environmental conservation, community development, health and wellness, education, equality and inclusion, animal welfare, humanitarian aid, sustainable development, economic empowerment, policy advocacy, artistic advocacy, support campaigns, social impact">
    <meta name="author" content="RallyNex Team">
    <meta name="language" content="English">
    <link rel="canonical" href="https://rallynex.onrender.com">
    <meta property="og:title" content="RallyNex - Support Campaigns and Causes">
    <meta property="og:description" content="Join RallyNex to support impactful campaigns across global causes like Environmental Conservation, Health, and Education. Create, share, and fund projects that drive positive change!">
    <meta property="og:url" content="https://rallynex.onrender.com">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://rallynex.s3.eu-north-1.amazonaws.com/main/files/og-image.png">
    <meta property="og:image:alt" content="RallyNex platform image">
    <meta property="og:site_name" content="RallyNex">
    <meta property="og:locale" content="en_US">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="RallyNex - Support Campaigns and Causes">
    <meta name="twitter:description" content="Join RallyNex to support impactful campaigns across global causes like Environmental Conservation, Health, and Education. Create, share, and fund projects that drive positive change!">
    <meta name="twitter:image" content="https://rallynex.s3.eu-north-1.amazonaws.com/main/files/og-image.png">
    <meta name="twitter:image:alt" content="RallyNex platform image">
    <meta name="twitter:site" content="@RallyNex">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <title>RallyNex - Together for Change: Support Global Campaigns and Transform Lives</title>

<style type="text/css">
    /* General Styles */
    body {
        font-family: 'Arial', sans-serif;
        margin: 0;
        padding: 0;
        
        color: #333; /* Dark text */
    }

    .container {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); /* Improved grid responsiveness */
        gap: 20px;
        padding: 20px;
        max-width: 100%;
        margin: 0 auto;
    }

    .card {
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        display: flex;
        flex-direction: column;
    }

    .card:hover {
        transform: translateY(-10px);
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    }

    .image-container {
        height: 200px;
        overflow: hidden;
        position: relative;
    }

    .image-container img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.3s ease;
    }

    .image-container:hover img {
        transform: scale(1.1);
    }

    .content {
        padding: 20px;
        background-color: #fff;
        flex-grow: 1; /* Allow content to take available space */
    }

    .title {
        margin: 0;
        margin-bottom: 10px;
        color: #333;
        font-size: 1.5rem;
        font-weight: bold;
        text-transform: uppercase; /* Add more emphasis */
    }

    .description {
        color: #666;
        margin-bottom: 15px;
        font-size: 1.1rem; /* Slightly smaller for better readability */
        line-height: 1.5;
    }

    .affiliate-btn {
        display: inline-block;
        background-color: #007bff;
        color: #fff;
        text-decoration: none;
        padding: 12px 24px;
        border-radius: 5px;
        font-weight: bold;
        transition: background-color 0.3s ease, transform 0.3s ease;
        margin-top: 15px;
    }

    .affiliate-btn:hover {
        background-color: #0056b3;
        color: #fff;
        transform: translateY(-2px);
    }

    .heading {
        text-align: center;
        margin-top: 30px;
        color: #333;
        font-size: 2rem;
        font-weight: bold;
    }

    /* Responsive Styles */
    @media (max-width: 768px) {
        .container {
            grid-template-columns: 1fr; /* Single column layout on smaller screens */
            padding: 0;
        }
    }

    @media (max-width: 600px) {
        .title {
            font-size: 1.3rem;
        }
        .affiliate-btn {
            padding: 10px 20px;
        }
    }

    .no-suggested-users {
        text-align: center;
        margin: 20px 0;
        padding: 15px;
        background-color: rgba(76, 175, 80, 0.3); /* Semi-transparent green background */
        border-radius: 5px;
        color: #000000; /* Black text by default */
        font-size: 14px;
        border: 1px solid #4CAF50; /* Green border */
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Subtle shadow */
        transition: color 0.3s, background-color 0.3s; /* Smooth transition for color changes */
    }

    /* Change text color to white when the background color is dark */
    .no-suggested-users.dark-text {
        color: #ffffff; /* White text */
        background-color: rgba(56, 142, 108, 0.7); /* Darker semi-transparent green background */
    }

    /* Responsive Styles */
    @media (max-width: 600px) {
        .no-suggested-users {
            font-size: 12px; /* Adjust font size for mobile */
        }
    }

    /* Dark Mode Styles */
    body.dark-mode {
        background-color: #121212; /* Dark background */
        color: #ffffff; /* Light text */
    }

    body.dark-mode .container {
        background-color: #121212; /* Dark background for container */
    }

    body.dark-mode .card {
        background-color: #1e1e1e; /* Dark background for cards */
        color: #ffffff; /* Light text */
    }

    body.dark-mode .content {
        background-color: #1e1e1e; /* Dark background for content */
        color: #ffffff; /* Light text */
    }

    body.dark-mode .title {
        color: #ffffff; /* Light text for titles */
    }

    body.dark-mode .description {
        color: #b0b0b0; /* Light gray text for descriptions */
    }

    body.dark-mode .affiliate-btn {
        background-color: #3498db; /* Accent color for buttons */
        color: #ffffff; /* Light text */
    }

    body.dark-mode .affiliate-btn:hover {
        background-color: #2980b9; /* Darker accent color on hover */
    }

    body.dark-mode .heading {
        color: #ffffff; /* Light text for headings */
    }

    body.dark-mode .no-suggested-users {
        background-color: rgba(56, 142, 108, 0.7); /* Darker semi-transparent green background */
        color: #ffffff; /* White text */
    }

    body.dark-mode .no-suggested-users.dark-text {
        color: #ffffff; /* White text */
    }


body.dark-mode .affiliate-link {
    display: inline-block;
    margin-bottom: 20px;
    padding: 10px 15px;
    background-color: #3498db; /* Accent color for buttons */
    color: #ffffff;
    border-radius: 5px;
    text-decoration: none;
    font-size: 14px;
    transition: background-color 0.3s ease;
}

body.dark-mode .affiliate-link:hover {
    background-color: #2980b9; /* Darker accent color on hover */
}

body.dark-mode .affiliate-link i {
    margin-right: 8px; /* Space between icon and text */
}
</style>
</head>
<body>
    
    {% if not affiliate_links %}
        <li class="no-suggested-users">No campaign advancement tools yet.</li>
    {% else %}
        <div class="container">
            {% for affiliate_link in affiliate_links %}
                <div class="card">
                    <div class="image-container">
                        {% if affiliate_link.image %}
                            <img src="{{ affiliate_link.image.url }}" alt="{{ affiliate_link.title }}">
                        {% else %}
                            <div class="placeholder-image"></div>
                        {% endif %}
                    </div>
                    <div class="content">
                        <h2 class="title">{{ affiliate_link.title }}</h2>
                        <p class="description">{{ affiliate_link.description }}</p>
                        <a href="{{ affiliate_link.link }}" class="affiliate-btn" target="_blank">Gain Access
                            <div class="square-with-arrow">
                                <i class="fas fa-square"></i>
                                <i class="fas fa-arrow-right"></i>
                            </div>
                        </a>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% endif %}

<script type="text/javascript">
    
        // Function to handle file upload and playback
        function uploadAudio() {
            var input = document.createElement('input');
            input.type = 'file';
            input.accept = 'audio/*, video/*'; // Limit file selection to audio files

            // Listen for file selection
            input.onchange = function(e) {
                var file = e.target.files[0];
                var audio = document.getElementById('bgAudio');

                // Pause the current audio playback
                audio.pause();

                // Store the selected audio file and its playback position in local storage
                localStorage.setItem('bgAudioFile', URL.createObjectURL(file));
                localStorage.setItem('bgAudioPosition', audio.currentTime);

                // Set the audio source to the selected file
                audio.src = localStorage.getItem('bgAudioFile');

                // Resume audio playback
                audio.play();
            };

            // Trigger the file input
            input.click();
        }

        // Function to set background audio on page load
        window.onload = function() {
            var audio = document.getElementById('bgAudio');
            var bgAudioFile = localStorage.getItem('bgAudioFile');
            var audioPosition = parseFloat(localStorage.getItem('bgAudioPosition'));

            // Check if there's a stored audio file
            if (bgAudioFile) {
                // Set the audio source to the stored file
                audio.src = bgAudioFile;

                // Set the playback position if available
                if (!isNaN(audioPosition)) {
                    audio.currentTime = audioPosition;
                }

                // Autoplay the audio
                audio.play();
            }
        };


function toggleCommentForm() {
    var popup = document.getElementById("commentFormPopup");
    popup.style.display = "block";
}

function closeCommentForm() {
    var popup = document.getElementById("commentFormPopup");
    popup.style.display = "none";
}

document.addEventListener('DOMContentLoaded', function() {
    var campaignElement = document.querySelector('.campaign-details');
    var campaignId = {{ campaign.id }};
    var startTime;

    function recordCampaignView() {
        var endTime = Math.floor(Date.now() / 1000); // Get current time in seconds
        var timeSpent = endTime - startTime;
        
        fetch(`/record_campaign_view/${campaignId}/`, {
            method: 'POST',
            credentials: 'same-origin',
            headers: {
                'X-CSRFToken': '{{ csrf_token }}',
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ time_spent: timeSpent })
        })
        .then(response => {
            if (response.ok) {
                console.log('View recorded successfully');
            } else {
                console.error('Failed to record view');
            }
        })
        .catch(error => {
            console.error('Error:', error);
        });
    }

    function handleVisibilityChange() {
        if (document.visibilityState === 'visible') {
            startTime = Math.floor(Date.now() / 1000); // Get current time in seconds
        } else {
            recordCampaignView();
        }
    }

    function isInViewport(element) {
        var rect = element.getBoundingClientRect();
        return (
            rect.top >= 0 &&
            rect.left >= 0 &&
            rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
            rect.right <= (window.innerWidth || document.documentElement.clientWidth)
        );
    }

    function handleScroll() {
        if (isInViewport(campaignElement)) {
            startTime = Math.floor(Date.now() / 1000); // Get current time in seconds
        } else {
            recordCampaignView();
        }
    }

    document.addEventListener('visibilitychange', handleVisibilityChange);
    document.addEventListener('scroll', handleScroll);
});

document.addEventListener('DOMContentLoaded', function() {
    var mediaQuery = window.matchMedia('(max-width: 768px)');
    var leftAside = document.querySelector('.left-aside');
    var rightAside = document.querySelector('.right-aside');

    function handleMediaQueryChange(e) {
        if (e.matches) {
            leftAside.style.display = 'none';
            rightAside.style.display = 'none';
        } else {
            leftAside.style.display = 'block';
            rightAside.style.display = 'block';
        }
    }

    mediaQuery.addListener(handleMediaQueryChange);
    handleMediaQueryChange(mediaQuery);
});


</script>
<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function() {
    const navbarToggle = document.getElementById("navbarToggle");
    const navbar = document.getElementById("navbar");
    const popupClose = document.getElementById("popupClose");

    // Toggle navbar visibility
    navbarToggle.addEventListener("click", function() {
        if (navbar.style.display === "block") {
            navbar.style.display = "none";
        } else {
            navbar.style.display = "block";
        }
    });

    // Close popup when clicking the close button
    popupClose.addEventListener("click", function() {
        navbar.style.display = "none";
    });

    // Adjust navbar display on window resize
    window.addEventListener("resize", function() {
        if (window.innerWidth > 768) {
            navbar.style.display = "none";
        } else if (navbar.style.display === "block") {
            navbar.style.display = "block";
        } else {
            navbar.style.display = "none";
        }
    });

    // Ensure the navbar is initially hidden on page load for larger screens
    if (window.innerWidth > 768) {
        navbar.style.display = "none";
    } else {
        navbar.style.display = "none"; // or "block" based on your initial requirement
    }
});
</script>

<script type="text/javascript">
function switchColor() {
    const body = document.body;
    const isDarkMode = body.classList.toggle('dark-mode'); // Toggle dark mode class
    var reactDivs = document.querySelectorAll('.react');

    // Update background and text colors for all elements
    const elementsToUpdate = document.querySelectorAll(
        'header, footer, section, .left-aside, .right-aside, .upper-post, .campaign-content, .react, .search-container input, .search-container .btn-reset'
    );

    elementsToUpdate.forEach(element => {
        element.classList.toggle('dark-mode', isDarkMode);
    });

    // Update text colors for specific elements
    const textElements = document.querySelectorAll(
        'h1, h2, h3, h4, p, li, .campaign-nav, .campaign-nav a, .btn, .reaction, .action-item, .action-item a, .carousel, .ad, .slide, .ad a, .explore-link, .love-count, #view-count, .comment-count'
    );

    textElements.forEach(element => {
        element.style.color = isDarkMode ? '#ffffff' : '#000000';
    });

    // Update buttons
    const buttons = document.querySelectorAll('button:not(.btn-search, .btn-reset)');
    buttons.forEach(button => {
        button.style.backgroundColor = isDarkMode ? '#262626' : '';
        button.style.color = isDarkMode ? '#ffffff' : '#000000';
    });

    // Update `.react` divs
    if (reactDivs.length > 0) {
        reactDivs.forEach(function(reactDiv) {
            reactDiv.style.backgroundColor = isDarkMode ? "#262626" : "";
            reactDiv.style.color = isDarkMode ? "white" : "black";

            if (isDarkMode) {
                reactDiv.classList.add('react-hover');
            } else {
                reactDiv.classList.remove('react-hover');
                reactDiv.style.backgroundColor = "";
            }
        });
    }

    // Update input field and reset button
    const inputField = document.querySelector('.search-container input[type="text"]');
    const inputResetButton = document.querySelector('.search-container .btn-reset');

    if (inputField) {
        inputField.style.backgroundColor = isDarkMode ? '#333333' : '#ffffff';
        inputField.style.color = isDarkMode ? '#ffffff' : '#000000';
    }

    if (inputResetButton) {
        inputResetButton.style.color = '#b0b0b0';
    }
}

</script>


</body>
</html>

{% endblock %}
