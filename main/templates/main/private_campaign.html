{% load custom_filters %}

{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
     <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Google Site Verification Meta Tag -->
  <meta name="google-site-verification" content="2IjHwnbJp2eoJ42Ec2-vy5FHzwfpyA4qxZlA2Ct1lW8" />

  <!-- bing Site Verification Meta Tag -->
  <meta name="msvalidate.01" content="2DF73531AC8292B0D47E7DEAE6EEF4CF" />

  <!-- yandex Site Verification Meta Tag -->
  <meta name="yandex-verification" content="27149014e6b080dd" />

  <!-- Meta Tags for SEO -->
  <meta name="description" content="Join RallyNex to support impactful campaigns across global causes like Environmental Conservation, Education, Health, and Equality. Create, share, and fund projects that drive positive change in your community and beyond. Become part of a passionate community dedicated to making a difference today!">
  <meta name="keywords" content="crowdfunding, global causes, environmental conservation, community development, health and wellness, education, equality and inclusion, animal welfare, humanitarian aid, sustainable development, economic empowerment, policy advocacy, artistic advocacy, support campaigns, social impact">
  <meta name="author" content="RallyNex Team">
  <meta name="language" content="English">
  <link rel="canonical" href="https://rallynex.onrender.com">

  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="RallyNex - Support Campaigns and Causes">
  <meta property="og:description" content="Join RallyNex to support impactful campaigns across global causes like Environmental Conservation, Health, and Education. Create, share, and fund projects that drive positive change!">
  <meta property="og:url" content="https://rallynex.onrender.com">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://rallynex.s3.eu-north-1.amazonaws.com/main/files/og-image.png">

  <meta property="og:image:alt" content="RallyNex platform image">
  <meta property="og:site_name" content="RallyNex">
  <meta property="og:locale" content="en_US">

  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="RallyNex - Support Campaigns and Causes">
  <meta name="twitter:description" content="Join RallyNex to support impactful campaigns across global causes like Environmental Conservation, Health, and Education. Create, share, and fund projects that drive positive change!">
  <meta name="twitter:image" content="https://rallynex.s3.eu-north-1.amazonaws.com/main/files/og-image.png">
  <meta name="twitter:image:alt" content="RallyNex platform image">
  <meta name="twitter:site" content="@RallyNex">



  <!-- Stylesheets -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <!-- Default Title -->
    <title>RallyNex - Together for Change: Support Global Campaigns and Transform Lives</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: white;
    }

    header {
      background-color: 
      color: grey;
      padding:0;
      text-align: center;
    }
main {
  display: flex;
  justify-content: space-around;
  padding: 0;
}


    .upper-post,
    .lower-post {
      padding: 10px;
    }

section {
  flex: 3; /* Ensure it remains flexible within its parent */
  background-color: #fff;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  width: 100%; /* Ensure it takes full width of its container */
  max-width: 750px; /* Set the maximum width you desire */
  padding: 0; /* Remove padding */
  box-sizing: border-box; /* Include padding and border in the element's total width and height */
  border: 1px solid whitesmoke; /* Optional: Set border */
  margin: 0 auto; /* Center the section horizontally within its container */
  
}


/* Media query for smaller screens */
@media (max-width: 768px) {
  section {
    width: calc(100vw - 2px); /* Calculate 100% viewport width minus any border */
   */
  }
}

.left-aside, .right-aside {
  flex: 1; /* Keep the asides smaller */
  background-color: #fff;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  padding: 20px;
}

/* Header container */
.header-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 20px; /* Increased padding for a more spacious look */
    margin: 0 auto;
    box-sizing: border-box;
    background-color: #f8f9fa; /* Light background for contrast */
    border-bottom: 1px solid #e1e1e1; /* Subtle border for separation */
}

/* Logo container */
.logo-container {
    display: flex;
    align-items: center;
    flex: 1;
}

/* Logo styling */
.logo {
    margin-right: 15px; /* Increased space between logo and name */
    background: none;
    border: none;
    box-shadow: none;
}

/* Logo initials styling */
.logo-initials {
    color: #28a745; /* Updated color for a fresher look */
    font-size: 60px; /* Increased font size for prominence */
    font-weight: bold;
    letter-spacing: 2px;
    text-transform: uppercase;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    text-shadow: 
        2px 2px 0 #28a745,
        -2px -2px 0 #28a745,
        2px -2px 0 #28a745,
        -2px 2px 0 #28a745,
        4px 4px 0 black,
        -4px -4px 0 black,
        4px -4px 0 black,
        -4px 4px 0 black;
}

/* Logo name styling */
.logo-name {
    font-size: 24px; /* Increased font size */
    margin-top: 5px; /* Slightly increased space */
    color: #333; /* Darker color for better contrast */
    opacity: 0.9;
}

/* Search container */
.search-container {
    flex: 2;
    display: flex;
    justify-content: center;
    margin-top: 10px;
}

/* Search wrapper */
.search-wrapper {
    display: flex;
    border: 2px solid #ced4da; /* Updated border color */
    border-radius: 25px; /* Rounded corners for a modern look */
    overflow: hidden;
    width: 100%;
    max-width: 600px; /* Restrict max width for better appearance */
    box-sizing: border-box;
}

/* Input field */
#query-field {
    flex: 1;
    padding: 12px 20px; /* Increased padding for a more comfortable input */
    border: none;
    font-size: 16px; /* Larger font size for readability */
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    transition: box-shadow 0.3s ease, border-color 0.3s ease;
}

/* Input field focus */
#query-field:focus {
    outline: none;
    box-shadow: 0 0 8px rgba(0, 123, 255, 0.3);
    border-color: #007bff; /* Add border color on focus */
}

/* Submit button (search icon) */
.btn-search {
    border: none;
    background: #007bff; /* Primary button color */
    color: white;
    font-size: 20px;
    cursor: pointer;
    transition: background 0.3s ease, transform 0.2s ease;
    padding: 12px; /* Increased size for better click area */
}

/* Submit button hover */
.btn-search:hover {
    background: #0069d9;
    transform: scale(1.05); /* Slightly scale up on hover */
}

/* Reset button */
.btn-reset {
    border: none;
    background: #007bff;
    color: white;
    font-size: 18px;
    cursor: pointer;
    transition: color 0.3s ease, transform 0.2s ease;
    padding: 12px; /* Increased size for better click area */
}

/* Reset button hover */
.btn-reset:hover {
  background-color: #0069d9;
    color: white;
    transform: scale(1.05); /* Slightly scale up on hover */
}
/* Mobile styles */
@media (max-width: 768px) {
    .header-container {
        flex-direction: column;
        align-items: stretch;
        padding: 15px; /* Adjusted padding for smaller screens */
    }

    .logo-container {
        margin-bottom: 15px; /* Increased space between logo and search bar */
    }

    .search-wrapper {
        border-radius: 20px; /* Adjusted border radius for mobile */
    }

    .btn-search, .btn-reset {
        padding: 10px; /* Adjusted padding for mobile */
        font-size: 16px; /* Adjusted font size */
    }

    #query-field {
        padding: 10px 15px; /* Adjusted padding */
        font-size: 14px; /* Smaller font size for mobile */
    }
        .logo-initials {
        font-size: 40px; /* Smaller font size for small devices */
    }

}


    nav {
      margin-top: 20px;
      border: 1px solid #808080;
      border-radius: 5px;
      overflow: hidden;
    }

    nav a {
      text-decoration: none;
      font-weight: bold;
      padding: 8px 10px;
      display: block;
      transition: background-color 0.3s ease;
      border-bottom: 1px solid #e6e6e6;
    }

    nav a:hover {
      background-color:limegreen; /* Light lime green on hover */

    }

    /* Beautiful upload button styles */
    .upload-container {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-top: 20px;
    }

    .upload-btn-wrapper {
      position: relative;
      overflow: hidden;
      display: inline-block;
    }


        .btn-submit {
            display: block;
            width: calc(100% - 20px);
            padding: 10px;
            background-color: #3498db;
            color: #fff;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            margin-top: 20px;
            transition: background-color 0.3s ease;
        }

        .btn-submit:hover {
            background-color: #2980b9;
        }




    .btn {
      border: 2px solid gray;
    color: #333333;
      background-color: white;
      padding: 8px 20px;
      border-radius: 8px;
      font-size: 20px;
      font-weight: bold;
      cursor: pointer;
    }


    .btn:hover {
      background-color: #eee; /* Change the color on hover */
    }
    .upload-btn-wrapper input[type=file] {
      font-size: 100px;
      position: absolute;
      left: 0;
      top: 0;
      opacity: 0;
      cursor: pointer;
    }

border: 1px solid silver;
    hr {
      border: 1px solid silver; /* Set border to 1px solid silver for a silver color */
      margin: 10px 0; /* Add some margin for spacing */
    }

.upper-post {
  display: flex;
  align-items: center;
  padding: 20px;
  border-radius: 2px;
 
  overflow: hidden;
  position: relative;
  transition: border-color 0.3s ease, transform 0.3s ease;
}

.upper-post:hover {

}

.profile-pic {
  flex-shrink: 0;
  margin-right: 20px;
}

.profile-pic img {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  object-fit: cover;
  
  padding: 2px; /* Add padding here */
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  transition: border-color 0.3s ease;
}

.profile-pic:hover img {
  border-color: #00FF00;
}




.post-details {

  flex: 1;
}

.post-details h2 {
  margin: 0;
  font-size: 24px;
  color: #333;
}

.post-details h3 {
  margin: 0;
  font-size: 16px;
}

.time-location {
  color: #888;
  margin-bottom: 5px;
}



.description {
  color: #555;
}

.tag {
  font-weight: bold;
  color: #32CD32;
}

.tag::before {
  content: "#";
}

@media (max-width: 768px) {
  .upper-post {
    flex-direction: column;
    align-items: flex-start;
  }

  .profile-pic {
    margin-bottom: 15px;
    margin-right: 0;
  }
}

.comment-form-popup {
  display: none;
  position: fixed;
  z-index: 1;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0,0,0,0.4);
}

.comment-form {
  background-color: #fefefe;
  margin: 10% auto;
  padding: 20px;
  border: 1px solid #888;
  width: 80%;
}

.comment-form textarea {
  width: 100%;
  padding: 10px;
  margin-bottom: 10px;
}

.comment-form button {
  background-color: #FF69B4;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 5px;
  cursor: pointer;
}

.comment-form button:hover {
  background-color: #FF1493;
}




}






.lower-post {
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap; /* Allows wrapping on small devices */
}

.lower-post .react {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
}

.lower-post .react > div {
  margin-right: 10px; /* Reduced for better spacing on small devices */
}

.lower-post .react .reaction-count {
  margin-right: 5px;
}

.reaction-count,
.comment-count {
  font-size: 14px;
  color: grey;
  margin-left: 5px;
}

/* Mobile styles */
@media only screen and (max-width: 600px) {
  .reaction-count,
  .comment-count {
    font-size: 12px; /* Smaller font size on mobile */
    margin-left: 3px;
  }
  
  .lower-post .react > div {
    margin-right: 5px; /* Further reduce margin for smaller screens */
  }

  .lower-post .love-icon,
  .lower-post .fa-eye,
  .lower-post .fa-comment {
    font-size: 16px; /* Reduce the icon size */
  }
}











  .comments .comment {
    margin-bottom: 10px;
    padding: 10px;
    border: 1px solid #e0e0e0;
    border-radius: 5px;
    display: flex;
  }

  .comments .comment .commenter-info {
    margin-right: 10px;
  }

  .comments .comment .profile-pic-comment {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    object-fit: cover;
  }

  .comments .comment .commenter-name {
    font-weight: bold;
    margin-bottom: 5px;
  }

  .comments .comment .comment-text {
    flex: 1;
  }



.overlay-link {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
}


        button {
            background-color: #007bff;
            color: #fff;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 5px;
        }
        button:hover {
            background-color: #0056b3;
        }


  .file-container {
    position: relative;
    border: 1px solid silver; /* Border color */
    border-radius: 5px;
    overflow: hidden; /* Ensure the border doesn't overflow */
  }

  #campaign-image {
    max-width: 100%;
    height: auto;
    border-radius: 5px; /* Border radius for the image */
    transition: transform 0.3s ease; /* Add transition for smooth transformation */
  }

  /* Apply styles when hovering over the image */
  #campaign-image:hover {
    transform: scale(1.05); /* Scale the image slightly on hover */
  }



/* Add this style to make the love icon red */
.love-red {
    color: red;
}


   .comment-count {
        text-decoration: none; /* Remove underline */
        color: gray; /* Inherit color from parent */
    }



  /* Base styles for both activity and support links */
.activity-link,
.support-link {
    position: absolute;
    top: 10px;
    padding: 16px;
    border-radius: 50%;
    z-index: 2;
    text-decoration: none;
    font-weight: bold;
    font-size: 24px; /* Adjust font size for mobile if necessary */
    display: inline-block;
    text-align: center;
}

/* Specific styles for the Activities link (left side) */
.activity-link {
    left: 10px;
    color: white;
    background-color: black;
}

/* Specific styles for the Support link (right side) */
.support-link {
    right: 10px;
    color: black;
    background-color: white;
}

/* Shared styles for the labels below the icons */
.icon-label {
    visibility: hidden;
    width: auto;
    max-width: 150px; /* Adjusted maximum width for smaller screens */
    background: linear-gradient(135deg, #f06, #f79);
    color: white;
    text-align: center;
    border-radius: 12px;
    padding: 8px 12px; /* Adjust padding for smaller screens */
    position: absolute;
    z-index: 1;
    top: 100%; /* Position below the icon */
    left: 50%;
    transform: translateX(-50%);
    opacity: 0;
    transition: opacity 0.3s, transform 0.3s;
    font-size: 12px; /* Adjust font size for mobile */
    font-weight: bold;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    white-space: normal;
    overflow-wrap: break-word;
    box-sizing: border-box;
    word-wrap: break-word;
}

/* Tooltip arrow pointing up, located below the icon */
.icon-label::after {
    content: '';
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    border-width: 8px; /* Adjusted for smaller screens */
    border-style: solid;
    border-color: transparent transparent #f79 transparent;
}

/* Hover effect to show the label */
.activity-link:hover .icon-label,
.support-link:hover .icon-label {
    visibility: visible;
    opacity: 1;
    transform: translateX(-50%) translateY(5px);
}

/* Mobile-specific styles */
@media (max-width: 768px) {
    .activity-link,
    .support-link {
        font-size: 20px; /* Adjust icon size for smaller screens */
        padding: 10px; /* Reduce padding for smaller screens */
    }

    .icon-label {
        max-width: 120px; /* Adjusted maximum width for even smaller screens */
        padding: 6px 10px; /* Reduce padding for smaller screens */
        font-size: 11px; /* Adjust font size for readability */
    }

    .icon-label::after {
        border-width: 6px; /* Smaller arrow size for mobile */
    }
}






.sponsored-text {
    font-weight: bold;
    color: #3498db; /* You can adjust the color as needed */
}




    .affiliate-link {
      color: #3498db; /* Set the text color */
      text-decoration: none; /* Remove the default underline */
      font-weight: bold; /* Make the text bold */
      transition: color 0.3s; /* Smooth transition for color change */
    }

    /* Hover effect for the affiliate link */
    .affiliate-link:hover {
      color: #1abc9c; /* Change the text color on hover */
    }


  .donate-link {
    text-align: center;
    margin-top: 20px;
    background-color: #32CD32;
    color: white;
    padding: 15px 20px;
    border-radius: 25px;
    display: inline-block;
    text-decoration: none;
    transition: background-color 0.3s ease;
  }

  .donate-link:hover {
    background-color: #228B22;
  }

.profile-pic-hover:hover {
    transform: scale(1.5); /* Adjust the scale factor as needed */
    transition: transform 0.2s ease-in-out; /* Smooth transition */
}




.cm {
  font-size: 14px;
}



.container-with-border {
    border: 1px solid silver;
    border-radius: 10px;
    padding: 0; /* Adjust padding as needed */
    margin-bottom: 40px; /* Adjust margin as needed */
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.05); /* Soft shadow */
}



    .love-icon-size {
        font-size: 30px !important; /* Ensure that the font size is at least 30px */
    }


    .alert-badge {
        background-color: red;
        color: white;
        border-radius: 50%;
        padding: 5px 8px;
        position: absolute;
        top: -5px;
        right: 1px;
        font-size: 12px;
    }



.react div {
    background-color: #F5F5F5; /* Setting initial background color */
    display: inline-block; /* Ensuring each element occupies its own line */
    padding: 5px; /* Adding some padding for better appearance */
    border: 0 solid silver; /* Adding a silver border */
    border-radius: 10px; /* Adding border radius */
    margin-right: 5px; /* Adding some space between elements */
    transition: box-shadow 0.3s; /* Adding transition for smoother hover effect */
}

.react div:hover,
.react div:focus {
    background-color:white; /* Changing background color to a lighter shade of silver on hover or focus */
   /* Changing border color on hover or focus */
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.1); /* Adding box shadow on hover or focus */
    outline: none; /* Removing default focus outline */
    cursor: pointer; /* Changing cursor on hover */
}


.time-location {
    font-size: 14px;
    color: #999;
    margin-bottom: 10px;
}

.campaign-content {
    font-size: 16px;
    line-height: 1.5;
    color: #333;
}




.campaign-actions {
    display: flex;
    justify-content: space-between; /* Align items with space between */
    align-items: center; /* Vertically center items */
    margin-bottom: 20px; /* Add some space below the campaign actions */
}

/* Style for the "Report Campaign" link */
.report-link {
    color: #007bff; /* Set link color */
    text-decoration: none; /* Remove default underline */
    font-weight: bold; /* Make the text bold */
}

/* Style for the "Not Interested" form */
.not-interested-form {
    display: flex; /* Display form items in a row */
    align-items: center; /* Vertically center items */
}

/* Style for the checkbox label */
.not-interested-form label {
    margin-right: 10px; /* Add space between the checkbox and label */
}

/* Style for the submit button */
.submit-button {
    background-color: #007bff; /* Set button background color */
    color: #fff; /* Set button text color */
    border: none; /* Remove default button border */
    padding: 8px 16px; /* Add padding to the button */
    border-radius: 5px; /* Add some border radius */
    cursor: pointer; /* Change cursor to pointer on hover */
    transition: background-color 0.3s ease; /* Add smooth transition */
}

/* Hover effect for the submit button */
.submit-button:hover {
    background-color: #0056b3; /* Darken button background color on hover */
}



.share-buttons {
    margin-top: 20px;
}

.share-buttons span {
    margin-right: 10px;
}

.share-buttons a {
    display: inline-block;
    width: 40px;
    height: 40px;
    background-color: #007bff;
    color: #fff;
    border-radius: 50%;
    text-align: center;
    line-height: 40px;
    margin-right: 10px;
    text-decoration: none;
    transition: background-color 0.3s ease;
}

.share-buttons a:hover {
    background-color: #0056b3;
}

       .action-item {
            display: inline-block;
            padding: 10px 20px;
            margin-right: 10px;
            border-radius: 5px;
            text-align: center;
            font-size: 12px; /* Adjust the font size as needed */
        }
        .action-item a {
           color: #000;
            text-decoration: none;
            font-size: inherit;
        }
        .action-item i {
            margin-right: 5px;
        }


.footer {
  
    color: white;
    padding: 20px 0;
    text-align: center;
}

.footer-content {
    display: flex;
    justify-content: space-around;
    align-items: flex-start;
    flex-wrap: wrap;
  
    padding: 20px;
    border-radius: 10px;
    margin: 20px;
}

/* Other CSS rules remain the same */

.footer-section {
    flex: 1;
    margin: 20px;
}

.footer-section h2 {
    font-size: 18px;
    margin-bottom: 15px;
    color: limegreen;
}

.footer-section p, .footer-section a {
    color: #2c3e50;
    font-size: 14px;
    margin-bottom: 10px;
}

.footer-section a {
    text-decoration: none;
}

.footer-section a:hover {
    color: #34495e;
}

.social-icons a {
    margin: 0 10px;
    color: #2c3e50;
    font-size: 20px;
}

.social-icons a:hover {
    color: #34495e;
}

.subscribe-form {
    display: flex;
    justify-content: center;
}

.subscribe-form input {
    padding: 10px;
    border: 1px solid #bdc3c7;
    border-radius: 5px 0 0 5px;
    outline: none;
    width: 200px;
    background-color: white;
}


.footer-bottom {
    margin-top: 20px;
}

.footer-bottom p {
    font-size: 12px;
    color: #bdc3c7;
}

.mystery-text {
    color: #ecf0f1;
    font-size: 14px;
    margin-top: 10px;
    animation: fadeIn 5s infinite;
}

@keyframes fadeIn {
    0%, 100% { opacity: 0; }
    50% { opacity: 1; }
}



.square-with-arrow {
  position: relative;
  display: inline-block;
}

.square-with-arrow .fa-square {
  position: relative;
  display: inline-block;
}

.square-with-arrow .fa-arrow-right {
  position: absolute;
  top: 0;
  right: 0;
  margin-top: -5px; /* Adjust this value as needed */
  margin-right: -10px; /* Adjust this value as needed */
  transform: rotate(-45deg);
}



.tagline {
    display: block;
    font-size: 18px; /* Adjust size as needed */
    margin-top: 10px; /* Space between name and tagline */
    opacity: 0.7; /* Slightly transparent */
    
}


.carousel {
    position: relative;
    overflow: hidden;
    width: 250px; /* Adjusted width */
    height: 400px; /* Adjusted height */
    margin: 0 auto;
}

.slides {
    display: flex;
    transition: transform 0.5s ease-in-out;
}

.slide {
    min-width: 100%;
    flex: 1;
    text-align: center;
    overflow: hidden; /* Hide overflow for slides */
}

.ad {
    
    padding: 15px; /* Adjusted padding */
    border: 1px solid #e0e0e0;
    border-radius: 8px; /* Adjusted border-radius */
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    display: flex;
    flex-direction: column; /* Ensure content stacks vertically */
    align-items: center; /* Center align content */
    transition: transform 0.3s ease; /* Smooth scaling on hover */
    height: 100%; /* Make the ad take the full height of the slide */
    overflow-y: auto; /* Enable vertical scrolling */
}

.ad:hover {
    transform: scale(1.02); /* Slightly enlarge on hover */
    box-shadow: 0 6px 12px rgba(0,0,0,0.2); /* Enhanced shadow on hover */
}

.ad h2 {
    font-size: 1rem; /* Smaller font size */
    font-weight: 600;
    color: #333;
    margin: 10px 0 8px; /* Adjusted margin */
    text-align: center;
}

.ad .content {
    margin-bottom: 12px; /* Adjusted margin */
    color: #666;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 3; /* Limit to 3 lines */
    -webkit-box-orient: vertical;
    text-align: center;
    line-height: 1.4;
}

.ad img {
    width: calc(100% + 30px); /* Extend width by padding on both sides */
    height: auto;
    margin: -15px -15px 10px -15px; /* Compensate for the padding and add bottom margin */
    border-radius: 8px 8px 0 0; /* Rounded corners only on top */
    box-shadow: 0 4px 8px rgba(0,0,0,0.1); /* Added subtle shadow */
    position: relative; /* Required for the CTA text */
    transition: transform 0.3s ease; /* Smooth scaling on hover */
}

.ad img:hover {
    transform: scale(1.05); /* Slight scale on hover */
}

.ad .sponsored-by {
    font-size: 0.8rem; /* Smaller font size */
    color: #888;
    margin-bottom: 8px;
    text-align: center;
}

.ad a {
    display: block;
    width: 100%;
    text-decoration: none;
    color: inherit;
    position: relative; /* Required for the CTA text */
}

.ad a::after {
    content: "Visit"; /* CTA text */
    position: absolute;
    top: 50%; /* Center vertically */
    left: 50%; /* Center horizontally */
    transform: translate(-50%, -50%); /* Center text */
    background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent background */
    color: white; /* Text color */
    padding: 5px 10px; /* Padding */
    border-radius: 5px; /* Rounded corners */
    opacity: 0; /* Initially hidden */
    transition: opacity 0.3s ease; /* Smooth transition */
}

.ad a:hover::after {
    opacity: 1; /* Show on hover */
}



  .left-aside, .right-aside {
    flex: 1;
    background-color: #fff;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    padding: 20px;
  }

  @media (max-width: 768px) {
    .left-aside, .right-aside {
      display: none;
    }
  }

.header {
    background-color: white;
    color: black;
    text-align: left;

    padding: 10px;
}

.header::before {
    content: "•"; /* Unicode character for a bullet point */
   
    left: 10px; /* Adjust the position as needed */
    font-size: 20px; /* Adjust the size of the bullet point */
    line-height: 1;
    color: black; /* Ensure the bullet color matches the text */
}

/* Navbar toggle (hidden by default) */
.navbar-toggle {
    display: none; /* Hidden by default */
    cursor: pointer;
    font-size: 16px;
    color: #888; /* Light grey color */
    background-color: #f5f5f5; /* Very light grey background */
    border: 1px solid #ccc; /* Light border */
    padding: 0; /* Set padding to 0 as required */
    border-radius: 3px; /* Slight border radius */
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
    justify-content: center; /* Center horizontally */
    width: 100%; /* Full width for mobile view */
    position: fixed;
    bottom: 0; /* Fix to the bottom of the screen */
    left: 0; /* Align to the left */
    z-index: 1000; /* Ensure it's above other elements */
    background-color: #f5f5f5; /* Background color */
}

/* Navbar toggle hover effects */
.navbar-toggle:hover {
    background-color: #f7f7f7; /* Lighter background on hover */
    color: #777; /* Slightly darker text on hover */
    border-color: #4CAF50; /* Green border on hover */
    box-shadow: 0 1px 3px rgba(0,0,0,0.1); /* Subtle shadow */
    border-radius: 10px;
}

/* Show navbar toggle only on smaller screens */
@media (max-width: 768px) {
    .navbar-toggle {
        display: flex; /* Show the toggle button on smaller screens */
    }
}



/* Overlay effect for the navbar */
.navbar {
    display: none; /* Hidden by default */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent background */
    backdrop-filter: blur(3px); /* Blur effect */
    z-index: 1000; /* Ensure it appears above other content */
    overflow-y: auto; /* Allow scrolling if content is too long */
}

/* Style for the popup (navbar) */
.navbar ul {

    margin: 0;
    padding: 0;
    list-style: none; /* Remove bullets */
    display: flex;
    flex-direction: column; /* Stack items vertically */
    align-items: center; /* Center items horizontally */
    justify-content: center; /* Center items vertically */
    height: 100%; /* Full height */
}

.navbar li {
    padding: 10px;

}

.navbar a {
    text-decoration: none;
    color: white; /* Change text color for better visibility */
    font-size: 18px; /* Adjust font size */
    padding: 10px 20px;
    display: block;
}

.navbar .popup-close {
    position: absolute;
    top: 10px;
    right: 10px;
    font-size: 24px;
    color: white;
    cursor: pointer;
    z-index: 1001; /* Ensure close button is above other content */
}

.navbar .popup-close:hover {
    color: red; /* Change color on hover */
}



@media (max-width: 480px) {
  .upper-post, .lower-post, .upload-container {
    padding: 10px;
  }
}
/* Container for campaign members */
.campaign-members {
    padding: 20px;
    background-color: #f9f9f9;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    margin: 20px 0;
    max-height: 300px; /* Set a maximum height for the container */
    overflow-y: auto;  /* Enable vertical scrolling if content overflows */
}

/* Heading for members section */
.campaign-members h4 {
    font-size: 1.5em;
    color: #333;
    margin-bottom: 15px;
    font-weight: bold;
}

/* List of members */
.campaign-members ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

/* Individual member item */
.campaign-members li {
    display: flex;
    align-items: center;
    padding: 10px;
    border-bottom: 1px solid #ddd;
    transition: background-color 0.3s ease;
}

/* Hover effect for member items */
.campaign-members li:hover {
    background-color: #eaf1f8;
}

/* Member profile picture */
.campaign-members .profile-pic {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    overflow: hidden;
    margin-right: 15px;
}

/* Profile picture image */
.campaign-members .profile-pic img {
    width: 100%;
    height: auto;
    display: block;
}

/* Member username */
.campaign-members .member-username {
    font-size: 1em;
    color: #007bff;
    text-decoration: none;
    font-weight: bold;
    transition: color 0.3s ease;
}

/* Hover effect for username links */
.campaign-members .member-username:hover {
    color: #0056b3;
}



  .changemaker-text {
        visibility: hidden; /* Initially hide the text */
        font-size: 16px;
        color: #333;
        position: absolute;
        margin-left: 5px; /* Adjust positioning next to the star */
    }

    .cm:hover .changemaker-text {
        visibility: visible; /* Show text on hover */
    }

.join-leave-btn {
    position: relative;
    text-decoration: none;
    display: inline-block;
    padding: 10px 20px;
    background: linear-gradient(135deg, #1a1a1a, #444);
    color: #e0e0e0;
    border: 2px solid transparent;
    border-radius: 30px;
    font-size: 14px;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
    cursor: pointer;
}

.join-leave-btn:hover {
    background: linear-gradient(135deg, #333, #000);
    color: #fff;
    border: 2px solid #fff;
    box-shadow: 0 6px 20px rgba(255, 255, 255, 0.2);
}

.tooltip-text {
    visibility: hidden;
    position: absolute;
    bottom: 120%;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.8);
    color: #e0e0e0;
    padding: 8px 12px;
    border-radius: 6px;
    white-space: nowrap;
    font-size: 12px;
    opacity: 0;
    transition: visibility 0.3s, opacity 0.3s;
    text-shadow: 0px 0px 5px rgba(0, 0, 0, 0.6);
}

.join-leave-btn:hover .tooltip-text {
    visibility: visible;
    opacity: 1;
    bottom: 130%; /* Slightly moving upward */
}

.join-leave-btn::after {
    content: '🌙';
    position: absolute;
    top: -15px;
    right: -15px;
    font-size: 20px;
    opacity: 0.6;
    transition: all 0.3s ease;
}

.join-leave-btn:hover::after {
    transform: rotate(20deg);
    opacity: 1;
}
.sidebar-box {
    border-left: 2px solid #3498db;
    height: 600px;
    overflow-y: auto;
    overflow-x: hidden;
    border-radius: 5px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    padding: 0; /* Optional, for spacing inside the box */
}

/* On small devices, remove styling but keep the content visible */
@media (max-width: 767px) {
    .sidebar-box {
        border: none;
        height: auto;
        overflow: visible;
        border-radius: 0;
        box-shadow: none;
        padding: 0;
    }
}
            /* Styling for the "No suggested users yet" message */
        .no-suggested-users {
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            background-color: #e0f7e0; /* Light green background */
            border-radius: 5px;
            color: #228b22; /* Forest green text */
            font-size: 14px;
            border: 1px solid #2e8b57; /* Green border */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Subtle shadow */
        }

        /* Responsive Styles */
        @media (max-width: 600px) {

            .no-suggested-users {
                font-size: 12px; /* Adjust font size for mobile */
            }
        }
  </style>


<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const resetButton = document.getElementById('reset-field');
        const queryField = document.getElementById('query-field');

        resetButton.addEventListener('click', function() {
            queryField.value = ''; // Clear the input field
            queryField.focus(); // Optionally, refocus the input field
        });
    });
</script>

<script>


function closeCommentForm() {
    var popup = document.getElementById("commentFormPopup");
    popup.style.display = "none";
}

document.addEventListener('DOMContentLoaded', function() {
    var campaignElement = document.querySelector('.campaign-details');
    var campaignId = {{ campaign.id }};
    var startTime;

    function recordCampaignView() {
        var endTime = Math.floor(Date.now() / 1000); // Get current time in seconds
        var timeSpent = endTime - startTime;
        
        fetch(`/record_campaign_view/${campaignId}/`, {
            method: 'POST',
            credentials: 'same-origin',
            headers: {
                'X-CSRFToken': '{{ csrf_token }}',
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ time_spent: timeSpent })
        })
        .then(response => {
            if (response.ok) {
                console.log('View recorded successfully');
            } else {
                console.error('Failed to record view');
            }
        })
        .catch(error => {
            console.error('Error:', error);
        });
    }

    function handleVisibilityChange() {
        if (document.visibilityState === 'visible') {
            startTime = Math.floor(Date.now() / 1000); // Get current time in seconds
        } else {
            recordCampaignView();
        }
    }

    function isInViewport(element) {
        var rect = element.getBoundingClientRect();
        return (
            rect.top >= 0 &&
            rect.left >= 0 &&
            rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
            rect.right <= (window.innerWidth || document.documentElement.clientWidth)
        );
    }

    function handleScroll() {
        if (isInViewport(campaignElement)) {
            startTime = Math.floor(Date.now() / 1000); // Get current time in seconds
        } else {
            recordCampaignView();
        }
    }

    document.addEventListener('visibilitychange', handleVisibilityChange);
    document.addEventListener('scroll', handleScroll);
});

document.addEventListener('DOMContentLoaded', function() {
    var mediaQuery = window.matchMedia('(max-width: 768px)');
    var leftAside = document.querySelector('.left-aside');
    var rightAside = document.querySelector('.right-aside');

    function handleMediaQueryChange(e) {
        if (e.matches) {
            leftAside.style.display = 'none';
            rightAside.style.display = 'none';
        } else {
            leftAside.style.display = 'block';
            rightAside.style.display = 'block';
        }
    }

    mediaQuery.addListener(handleMediaQueryChange);
    handleMediaQueryChange(mediaQuery);
});

</script>

<script type="text/javascript">
  
document.addEventListener("DOMContentLoaded", function() {
    const navbarToggle = document.getElementById("navbarToggle");
    const navbar = document.getElementById("navbar");
    const popupClose = document.getElementById("popupClose");

    // Toggle navbar visibility
    navbarToggle.addEventListener("click", function() {
        if (navbar.style.display === "block") {
            navbar.style.display = "none";
        } else {
            navbar.style.display = "block";
        }
    });

    // Close popup when clicking the close button
    popupClose.addEventListener("click", function() {
        navbar.style.display = "none";
    });

    // Adjust navbar display on window resize
    window.addEventListener("resize", function() {
        if (window.innerWidth > 768) {
            navbar.style.display = "none";
        } else if (navbar.style.display === "block") {
            navbar.style.display = "block";
        } else {
            navbar.style.display = "none";
        }
    });

    // Ensure the navbar is initially hidden on page load for larger screens
    if (window.innerWidth > 768) {
        navbar.style.display = "none";
    } else {
        navbar.style.display = "none"; // or "block" based on your initial requirement
    }
});
</script>


</head>



<body id="mainBody" >





<header>
            <span id="navbarToggle" class="navbar-toggle">☰</span></br>

<div class="header-container">
    <div class="logo-container">
        <div class="logo">
            <span class="logo-initials">R</span>
        </div>
        <span class="logo-name">Rallynex</span>
    </div>

    <div class="search-container">
        <form action="{% url 'search_campaign' %}" method="get">
            <div class="search-wrapper">
                <input type="text" placeholder="Search..." name="query_field" id="query-field">
                <button type="button" class="btn-reset" id="reset-field">
                    <i class="fas fa-times"></i>
                </button>
                <button type="submit" class="btn-search">
                    <i class="fas fa-search"></i>
                </button>

            </div>
        </form>
    </div>
</div>


    <div class="action-item">
        <a href="#" onclick="uploadAudio()">
            <i class="fas fa-volume-up"></i> VibeVent
        </a>
    </div>
    
    <div class="action-item">
        <a href="#" onclick="switchColor()">
            <i class="fas fa-sync-alt"></i>
        </a>
    </div>
    
    <audio id="bgAudio" autoplay loop></audio>

         <nav id="navbar" class="navbar">
         <span id="popupClose" class="popup-close">&times;</span>
    <ul>
       <li>
  <a href="{% url 'home' %}" style="color: white; position: relative;">
    <i class="fas fa-home"></i> Home
    {% if new_campaigns_from_follows %}
        <span id="home-alert" class="alert-badge">{{ new_campaigns_from_follows.count }}</span> <!-- Red alert spot -->
    {% endif %}
</a>

</li>
        <li><a href="{% url 'manage_campaigns' %}" style="color: white;"><i class="fas fa-cog"></i> Manage </a></li>
        <li><a href="{% url 'private_campaign' %}" style="color: white;"><i class="fas fa-lock"></i> Private </a></li>
        <li><a href="{% url 'user_chats' %}" style="color: white;"><i class="fas fa-comment-alt"></i> Chat Table</a></li>
        <li>
    <a href="{% url 'notification_list' %}" style="color: white; position: relative;">
        <i class="fas fa-bell"></i>
        {% if unread_notifications %}
            <span id="notification-alert" class="alert-badge">{{ unread_notifications.count }}</span>
        {% endif %}
        Notification
    </a>
</li>

        <li><a href="{% url 'suggest' %}" style="color: white;"><i class="fas fa-user-friends"></i> Suggested Users</a></li>

                <li><a href="{% url 'profile_view' username=user.username %}" style="color: white; margin-right: 15px;">
            <i class="fas fa-user"></i> Visit Profile
        </a></li>
        <!-- Add logout link here -->
                <li>
          <a href="#" onclick="event.preventDefault(); document.getElementById('logout-form').submit();"  style="color:black;">
    <i class="fas fa-sign-out-alt" style="color:red;"></i> Logout
</a>

<form id="logout-form" action="{% url 'logout' %}" method="post" style="display: none;">
    {% csrf_token %}
</form>

        </li>
    </ul>

        </nav>
</header>



  <main>

<aside class="left-aside">

 <div>
    <a href="{% url 'affiliate_links' %}" class="affiliate-link"><i class="fas fa-tools"></i> Campaign Advancement Tools</a>
  </div>

<nav>
    <ul>
        <!-- Home link with red spot -->
<li>
  <a href="{% url 'home' %}" style="color: black; position: relative;">
    <i class="fas fa-home"></i> Home
    {% if new_campaigns_from_follows %}
        <span id="home-alert" class="alert-badge">{{ new_campaigns_from_follows.count }}</span> <!-- Red alert spot -->
    {% endif %}
</a>

</li>

        <li><a href="{% url 'manage_campaigns' %}" style="color: black;"><i class="fas fa-cog"></i> Manage </a></li>
        <li><a href="{% url 'private_campaign' %}" style="color: black;"><i class="fas fa-lock"></i> Private </a></li>
      <!-- Chat Table link with red spot -->
<li>
    <a href="{% url 'user_chats' %}" style="color: black; position: relative;">
        <i class="fas fa-comment-alt"></i> Chat Table
        {% if unread_messages_count %}
            <span id="chat-alert" class="alert-badge" style="background-color: red;">{{ unread_messages_count }}</span>
        {% endif %}
    </a>
</li>

       <!-- Update the notification icon to include a red alert spot -->
<!-- Update the notification icon to include a red alert spot -->
<!-- Notification icon with red spot -->
<li>
    <a href="{% url 'notification_list' %}" style="color: black; position: relative;">
        <i class="fas fa-bell"></i>
        {% if unread_notifications %}
            <span id="notification-alert" class="alert-badge">{{ unread_notifications.count }}</span>
        {% endif %}
        Notification
    </a>
</li>


        <li><a href="{% url 'suggest' %}" style="color: black;"><i class="fas fa-user-friends"></i> Suggested Users</a></li>
        <!-- Logout link -->
        <li>
          <a href="#" onclick="event.preventDefault(); document.getElementById('logout-form').submit();">
    <i class="fas fa-sign-out-alt"></i> Logout
</a>

<form id="logout-form" action="{% url 'logout' %}" method="post" style="display: none;">
    {% csrf_token %}
</form>

        </li>
    </ul>
</nav>

 


<p style="text-align: center;">
 <!-- Assuming this is in a template file like base.html -->
<a href="{% url 'platformfund' %}" class="donate-link">🌟 Help Us Grow! Support Our Mission with Your Generosity 🌟</a>

</p>
    



                        <div class="square-with-arrow" style="font-size:14px;" >
                            <i class="fas fa-square"></i>
                            <i class="fas fa-arrow-right"></i>
                        </div>





</aside>





<section>

    <!-- Beautiful upload button -->
    <div class="upload-container">
        <div class="upload-btn-wrapper">
           <button class="btn" style="font-size: 14px;">+ Upload
              <a href="{% url 'create_campaign' %}" class="overlay-link"></a>
           </button>
        </div>
    </div>
    </br>

    <h2 style="font-size:19px; padding-left: 20px;">Private Campaigns Shared With You and Your Own.</h2>

  {% if private_campaigns %}
  </p>
    <div class="sidebar-box">
        {% for campaign in private_campaigns %}
            <div class="container-with-border">
                <div class="upper-post">
                    <div class="profile-pic">
                        <a href="{% url 'profile_view' username=campaign.user.user.username %}">
                            <img src="{{ campaign.user.image.url }}" alt="Profile Picture" class="profile-pic-hover">
                        </a>
                    </div>
                    <div class="post-details">
                        <h1>{{ campaign.user.user.username }} 
                            {% if campaign.user.is_verified %}
                                <span class="verified-status" style="font-size:12px;"><span>verified</span><i class="material-icons" style="font-size:12px;color:green">verified_user</i></span>
                            {% endif %}
                            . <i class="cm">    {% if campaign.is_changemaker %}
         <span  class="far fa-star"
 style="color:red; font-size: 12px;"></span>
        <span class="changemaker-text">Changemaker</span>
    {% endif %}</i>
                        </h1> 

                        <div class="campaign-category" style="cursor: pointer;">
                            {{ campaign.category }} Campaign
                        </div>

                        <div class="objectives-activities"></br>
                            <h3>Objective:</h3>
                            <p>{{ campaign.get_objective_and_activities.Objectives }}</p>
                        </div>

                        <h2 style="font-size:19px;">
                            <a href="{% url 'view_campaign' campaign_id=campaign.pk %}" style="color:#3498db;">
                                <span>{{ campaign.title }}</span>
                            </a>
                        </h2>
                        <sp class="time-location">{{ campaign.timestamp|timesince }} ago - {{ campaign.user.location }}</sp>
                        <div class="campaign-content" data-campaign-id="{{ campaign.id }}">
                            {{ campaign.content|safe }}
                        </div>
                    </div>
                </div>

                <div class="file-container">
                    <div style="position: relative;">
                      {% if user.profile in campaign.user_profiles.all %}
    <!-- Display the links if the user has joined the campaign -->
    <a href="{% url 'activity_list' campaign_id=campaign.id %}" class="activity-link">
        <i style='font-size:24px' class='fas'>&#xf6e3;</i>
        <span class="icon-label">Activities</span>
    </a>

    <a href="{% url 'support' campaign_id=campaign.id %}" class="support-link">
        <i class="material-icons" style="font-size:24px;">&#xe925;</i>
        <span class="icon-label">Participate</span>
    </a>
{% else %}
    <!-- Optionally, show a message if the user hasn't joined -->
    <p style="padding-left:8px;">You need to join this campaign to view activities and participate.</p>
{% endif %}

                        <!-- Campaign poster -->
                        {% if campaign.poster %}
                            <a href="{{ campaign.poster.url }}">
                                <img src="{{ campaign.poster.url }}" alt="Image Description" class="campaign-poster" style="max-width: 100%; height: auto;">
                            </a>
                        {% else %}
                            <p>No file associated with this campaign.</p>
                        {% endif %}

                        <!-- Audio player -->
                        {% if campaign.audio %}
                            <audio class="campaign-audio" loop preload="auto" muted autoplay>
                                <source src="{{ campaign.audio.url }}" type="audio/mpeg">
                                Your browser does not support the audio element.
                            </audio>
                        {% else %}
                            <div class="audio-player">
                                {% if campaign.category == 'Environmental Conservation' %}
                                    <audio class="campaign-audio" loop preload="auto" muted autoplay>
                                        <source src="{% static 'main/audio/environment.mp3' %}" type="audio/mpeg">
                                    </audio>
                                {% elif campaign.category == 'Community Development' %}
                                    <audio class="campaign-audio" loop preload="auto" muted autoplay>
                                        <source src="{% static 'main/audio/community.mp3' %}" type="audio/mpeg">
                                    </audio>
                                {% elif campaign.category == 'Health and Wellness' %}
                                    <audio class="campaign-audio" loop preload="auto" muted autoplay>
                                        <source src="{% static 'main/audio/health.mp3' %}" type="audio/mpeg">
                                    </audio>
                                {% elif campaign.category == 'Education and Literacy' %}
                                    <audio class="campaign-audio" loop preload="auto" muted autoplay>
                                        <source src="{% static 'main/audio/education1.mp3' %}" type="audio/mpeg">
                                    </audio>
                                {% elif campaign.category == 'Equality and Inclusion' %}
                                    <audio class="campaign-audio" loop preload="auto" muted autoplay>
                                        <source src="{% static 'main/audio/Equality1.mp3' %}" type="audio/mpeg">
                                    </audio>
                                {% elif campaign.category == 'Animal Welfare' %}
                                    <audio class="campaign-audio" loop preload="auto" muted autoplay>
                                        <source src="{% static 'main/audio/animal.mp3' %}" type="audio/mpeg">
                                    </audio>
                                {% elif campaign.category == 'Humanitarian Aid' %}
                                    <audio class="campaign-audio" loop preload="auto" muted autoplay>
                                        <source src="{% static 'main/audio/Humanitarian Aid.mp3' %}" type="audio/mpeg">
                                    </audio>
                                {% elif campaign.category == 'Sustainable Development' %}
                                    <audio class="campaign-audio" loop preload="auto" muted autoplay>
                                        <source src="{% static 'main/audio/Sustainable.mp3' %}" type="audio/mpeg">
                                    </audio>
                                {% elif campaign.category == 'Peace and Conflict Resolution' %}
                                    <audio class="campaign-audio" loop preload="auto" muted autoplay>
                                        <source src="{% static 'main/audio/peace.mp3' %}" type="audio/mpeg">
                                    </audio>
                                {% elif campaign.category == 'Digital Rights' %}
                                    <audio class="campaign-audio" loop preload="auto" muted autoplay>
                                        <source src="{% static 'main/audio/digital.mp3' %}" type="audio/mpeg">
                                    </audio>
                                {% elif campaign.category == 'Economic Empowerment' %}
                                    <audio class="campaign-audio" loop preload="auto" muted autoplay>
                                        <source src="{% static 'main/audio/economic.mp3' %}" type="audio/mpeg">
                                    </audio>
                                {% elif campaign.category == 'Policy Advocacy' %}
                                    <audio class="campaign-audio" loop preload="auto" muted autoplay>
                                        <source src="{% static 'main/audio/Policy.mp3' %}" type="audio/mpeg">
                                    </audio>
                                {% elif campaign.category == 'Artistic Advocacy' %}
                                    <audio class="campaign-audio" loop preload="auto" muted autoplay>
                                        <source src="{% static 'main/audio/art.mp3' %}" type="audio/mpeg">
                                    </audio>
                                {% else %}
                                    <audio class="campaign-audio" loop preload="auto" muted autoplay>
                                        <source src="{% static 'main/audio/default.mp3' %}" type="audio/mpeg">
                                    </audio>
                                {% endif %}
                            </div>
                        {% endif %}
                    </div>
                </div>

                <div class="lower-post">
                    <div class="react">
                         <div class="love">
            <span style="cursor: pointer; font-size: 19px;" id="love-icon-{{ campaign.id }}" class="love-icon {% if user.is_authenticated and already_loved %}loved{% endif %}" onclick="toggleLove({{ campaign.id }})">
                <i class="far fa-heart"></i>
            </span>
            <span style="color:gray; font-size:14px;" id="love-count-{{ campaign.id }}">{{ campaign.love_count }}</span>
        </div>
        <div class="view">
            <i class="far fa-eye" style="font-size: 19px;"></i>
            <span class="reaction-count" id="view-count">{{ campaign.campaignview_set.count }} views</span>
        </div>
        <div class="comment">
            <span>
                <i class="far fa-comment" style="font-size:19px;"></i>
            </span>
            <a href="{% url 'campaign_comments' campaign_id=campaign.id %}" class="comment-count">comments</a>


        </div>

            



                            <div>
                              
<!-- Link to the joiners list -->
<a href="{% url 'campaign_joiners' campaign.id %}" style="color:#495057;">
    Joiners ({{ campaign.user_profiles.count|format_count }})
</a>

                            </div>

                                {% if user.profile in campaign.user_profiles.all %}
        <a href="{% url 'join_leave_campaign' campaign.id %}" class="join-leave-btn">
            <i class="fas fa-user-minus"></i> Leave
            <span class="tooltip-text">Leave Campaign</span>
        </a>
    {% else %}
        <a href="{% url 'join_leave_campaign' campaign.id %}" class="join-leave-btn">
            <i class="fas fa-user-plus"></i> Join
            <span class="tooltip-text">Join Campaign</span>
        </a>
    {% endif %}
                       
                    </div>

                   <div class="campaign-members">
    <!-- Display campaign followers (visible_to_followers members) -->
    <h3>Visible to:</h3>
    <ul>
        {% for follower in campaign.visible_to_followers.all %}
            <li>
                <a href="{% url 'profile_view' follower.user.username %}">
                    {{ follower.user.username }}
                </a>
            </li>
        {% empty %}
            <li>No followers for this campaign</li>
        {% endfor %}
    </ul>
</div>

                    
                </div>
            </div>
        {% endfor %}
    </div>
{% else %}
    <span class="no-suggested-users" style="padding-top:10px;">No private campaigns available.</span>
{% endif %}

</section>


<aside class="right-aside">


  <nav  style="display:none;">

    <ul>
        <li>ad space</li>
      
    </ul>
</nav><br>
  <div style="border: 1px solid #808080; padding: 20px; text-align: center; border-radius: 10px;">
     
    <h2 style="margin-bottom: 10px;">{{ user_profile.user.username }} 
      . <i class="cm">activist</i></h2>
               {% if user_profile.is_verified %}
        <p><strong>Status:</strong><span>verified</span><i class="material-icons" style="font-size:20px;color:green">verified_user</i></p>
    {% endif %}
   <img src="{{ user_profile.image.url }}"  alt="Profile Image" width="150" height="150" style="
      object-fit: cover;
      border: 4px solid #32CD32;
      
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      transition: border-color 0.3s ease;
      border-radius: 50%; margin-bottom: 15px;
    " onmouseover="this.style.borderColor='#00FF00';" onmouseout="this.style.borderColor='#32CD32';">
    <p style="font-size: 16px; color: #555;">Activist</p>
    <hr style="border-color: #ccc; margin: 20px 0;">
      <sp style="font-size: 14px; color: #777; line-height: 1.6;">
    {{ user_profile.bio|truncatewords:50 }}
</sp>
<div style="margin-top: 20px;">
    <a href="{% url 'profile_view' username=user.username %}" style="text-decoration: none; color: #007bff; margin-right: 15px;">Visit Profile</a>
</div>
  </div></br>

<!-- Display Ads -->
<!-- Carousel for Ads -->
<div class="carousel">
    <div class="slides">
        {% for ad in ads %}
            <div class="slide">
                <div class="ad">
                    <a href="{{ ad.link }}">
                        <img src="{{ ad.image.url }}" alt="{{ ad.title }}"> <!-- Image wrapped in a link -->
                    </a>
                    <h2>{{ ad.title }}</h2>
                    <p class="content">{{ ad.content | truncatewords:30 }}</p> <!-- Limit to 30 words -->
                    <p class="sponsored-by">Sponsored by: {{ ad.sponsored_by }}</p>
                </div>
            </div>
        {% endfor %}
    </div>
</div>


</aside>
  </main>





<hr>

<footer class="footer">
    <div class="footer-content">
        <!-- Existing footer sections -->
        <div class="footer-section">
            <h2>Contact Us</h2>
            <p>Email: rallynex1@gmail.com</p>
            <p style="display:none;">Address: 123 Networking St, Net City</p>
        </div>
        <div class="footer-section" style="display: none;">
            <h2>Follow Us</h2>
            <div class="social-icons">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-linkedin-in"></i></a>
                <a href="#"><i class="fab fa-github"></i></a>
            </div>
        </div>
        <div class="footer-section">
            <h2>Subscribe</h2>
            <!-- Include subscription form -->
        
            <p><a href="{% url 'subscribe' %}" class="subscribe-link">Subscribe Now</a></p>
        </div>
        <div class="footer-section">
            <h2>Legal</h2>
            <a href="{% url 'privacy_policy' %}">Privacy Policy|</a>
            <a href="{% url 'terms_of_service' %}">Terms of Service|</a>
            <a href="{% url 'project_support' %}">Support</a>
        </div>
    </div>
    <div class="footer-bottom">
        <p>&copy; 2024 Networking Site. All rights reserved.</p>
        <p class="mystery-text"></p>
    </div>
</footer>

<style>
.subscribe-link {
    color: #4CAF50;
    text-decoration: none;
    font-weight: bold;
}

.subscribe-link:hover {
    text-decoration: underline;
}

.subscribe-link {
    color: #4CAF50;
    text-decoration: none;
    font-weight: bold;
}

.subscribe-link:hover {
    text-decoration: underline;
}

/* Default styles for larger screens */
.campaign-content {
    font-size: 16px; /* Default font size for larger screens */
    padding: 20px; /* Default padding */
    margin: 10px; /* Default margin */
    /* Add any other default styles here */
}

/* Mobile styles */
@media (max-width: 768px) { /* Adjust the max-width as needed */
    .campaign-content {
        font-size: 14px; /* Increased font size for better readability */
        padding: 15px; /* Slightly smaller padding */
        margin: 8px; /* Slightly smaller margin */
        transform: translateY(12px); /* Move down by 12px */
        transition: transform 0.3s ease; /* Smooth transition */
        max-width: 95%; /* Ensures the content fits well on smaller screens */
    }
}
/* Default styles for larger screens */
.campaign-content {
    font-size: 16px; /* Default font size for larger screens */
    padding: 20px; /* Default padding */
    margin: 10px; /* Default margin */
}

/* Mobile styles */
@media (max-width: 768px) {
    .container-with-border {
        padding: 0; /* Adjust padding for mobile */
        border-radius: 8px; /* Rounded corners for a softer look */
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Add a subtle shadow */
    }

    .campaign-content {
        font-size: 15px; /* Slightly larger text for readability */
        padding: 10px; /* Adjust padding for mobile */
        margin: 8px 0; /* Adjust margin for better spacing */
        transform: translateY(12px); /* Keep the vertical shift */
        max-width: 95%; /* Ensures the content fits well on smaller screens */
    }

    h1, h2, h3 {
        font-weight: bold; /* Make headings bold for emphasis */
        line-height: 1.2; /* Improve line spacing for readability */
    }

    .post-details {
        margin-bottom: 15px; /* Spacing between elements */
    }

    .upper-post {
        flex-direction: column; /* Stack elements vertically */
        align-items: flex-start; /* Align to start */
    }

    .profile-pic img {
        width: 50px; /* Adjust profile picture size */
        height: auto; /* Maintain aspect ratio */
    }

    .react div {
        font-size: 14px; /* Adjust reaction font size */
    }

    .tooltip-text {
        font-size: 10px; /* Smaller tooltip text */
        padding: 5px; /* Padding for tooltip */
    }
}
</style>


   <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>


<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function () {
    const posters = document.querySelectorAll('.campaign-poster'); // Select all campaign posters
    const audios = document.querySelectorAll('.campaign-audio');   // Select all campaign audios
    let activeAudio = null;  // Track currently playing audio

    // Function to check if an element is in the viewport
    const isElementInViewport = (el) => {
        const rect = el.getBoundingClientRect();
        return rect.top >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight);
    };

    // Function to play the audio associated with the visible poster
    const playAudioForVisiblePoster = () => {
        posters.forEach((poster, index) => {
            const audio = audios[index]; // Get the corresponding audio for this poster

            if (isElementInViewport(poster) && audio) { // Check if audio exists
                // Pause any other active audio before playing this one
                if (activeAudio && activeAudio !== audio) {
                    activeAudio.pause();
                }

                audio.muted = false; // Unmute the audio
                audio.play().catch(err => {
                    console.log("Autoplay failed: ", err);
                });
                activeAudio = audio; // Set the active audio
            } else if (audio) { // Only pause if the audio element exists
                audio.pause(); // Pause if the poster is out of the viewport
            }
        });
    };

    // Automatically play the main campaign audio
    audios.forEach(audio => {
        // Set autoplay and mute initially to bypass browser restrictions
        audio.muted = true; // Start muted
        audio.autoplay = true;
        audio.loop = true;
        audio.preload = 'auto';

        // Play the audio and unmute it
        audio.play().then(() => {
            audio.muted = false; // Unmute after autoplay starts
        }).catch(err => {
            console.log("Autoplay failed: ", err);
        });
    });

    // IntersectionObserver to track when posters enter or leave the viewport
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            const index = [...posters].indexOf(entry.target);
            const audio = audios[index];

            if (entry.isIntersecting && audio) { // Check if audio exists
                if (activeAudio && activeAudio !== audio) {
                    activeAudio.pause(); // Pause the currently playing audio
                }
                audio.muted = false; // Unmute the audio
                audio.play().catch(err => {
                    console.log("Autoplay failed: ", err);
                });
                activeAudio = audio; // Set the new active audio
            } else if (audio) { // Only pause if the audio element exists
                audio.pause(); // Pause the audio if the poster is out of the viewport
            }
        });
    });

    // Observe each campaign poster element
    posters.forEach(poster => {
        observer.observe(poster);
    });
});
</script>


<script type="text/javascript">


 function toggleLove(campaignId) {
    var loveIcon = document.getElementById('love-icon-' + campaignId);
    var loveCount = document.getElementById('love-count-' + campaignId);
    var loveText = "love";

    // Check if the user is authenticated
    var isAuthenticated = "{{ user.is_authenticated }}";

    // Toggle love icon style
    loveIcon.classList.toggle('loved');
    // Toggle class to turn love icon red
    loveIcon.classList.toggle('love-red');

    // Play sound when love is toggled
    var audio = new Audio('{% static "main/files/sound.mp3" %}');
    audio.play();

    // Send AJAX request to add or remove love
    var xhr = new XMLHttpRequest();
    xhr.open('POST', '{% url 'toggle_love' 0 %}'.replace('0', campaignId), true);
    xhr.setRequestHeader('X-CSRFToken', '{{ csrf_token }}');
    xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');
    xhr.onload = function () {
        if (xhr.status === 200) {
            // Update love count only if there's a response from the server
            var response = JSON.parse(xhr.responseText);
            loveCount.textContent = response.love_count + " " + loveText; // Update love count from response
        }
    };
    xhr.send(JSON.stringify({ campaign_id: campaignId, is_authenticated: isAuthenticated }));
}



        // Function to handle file upload and playback
        function uploadAudio() {
            var input = document.createElement('input');
            input.type = 'file';
            input.accept = 'audio/*, video/*'; // Limit file selection to audio files

            // Listen for file selection
            input.onchange = function(e) {
                var file = e.target.files[0];
                var audio = document.getElementById('bgAudio');

                // Pause the current audio playback
                audio.pause();

                // Store the selected audio file and its playback position in local storage
                localStorage.setItem('bgAudioFile', URL.createObjectURL(file));
                localStorage.setItem('bgAudioPosition', audio.currentTime);

                // Set the audio source to the selected file
                audio.src = localStorage.getItem('bgAudioFile');

                // Resume audio playback
                audio.play();
            };

            // Trigger the file input
            input.click();
        }

        // Function to set background audio on page load
        window.onload = function() {
            var audio = document.getElementById('bgAudio');
            var bgAudioFile = localStorage.getItem('bgAudioFile');
            var audioPosition = parseFloat(localStorage.getItem('bgAudioPosition'));

            // Check if there's a stored audio file
            if (bgAudioFile) {
                // Set the audio source to the stored file
                audio.src = bgAudioFile;

                // Set the playback position if available
                if (!isNaN(audioPosition)) {
                    audio.currentTime = audioPosition;
                }

                // Autoplay the audio
                audio.play();
            }
        };

        // Store current playback position before page refresh
        window.addEventListener('beforeunload', function() {
            var audio = document.getElementById('bgAudio');
            localStorage.setItem('bgAudioPosition', audio.currentTime);
        });


        document.addEventListener('DOMContentLoaded', function() {
            const mysteryTexts = [
                "Unveil the secrets within...",
                "What lies beyond the horizon?",
                "Dive into the unknown...",
                "Mysteries await the curious..."
            ];

            const mysteryElement = document.querySelector('.mystery-text');

            function changeMysteryText() {
                const randomIndex = Math.floor(Math.random() * mysteryTexts.length);
                mysteryElement.textContent = mysteryTexts[randomIndex];
            }

            setInterval(changeMysteryText, 7000);
            changeMysteryText(); // Initial call to set the first mystery text
        });


    document.querySelector('.campaign-category').addEventListener('click', function() {
        const objectivesActivities = document.querySelector('.objectives-activities');
        if (objectivesActivities.style.display === 'none' || objectivesActivities.style.display === '') {
            objectivesActivities.style.display = 'block';
        } else {
            objectivesActivities.style.display = 'none';
        }
    });



document.addEventListener('DOMContentLoaded', function() {
    const campaigns = document.querySelectorAll('.campaign-content');
    
    campaigns.forEach(campaign => {
        const content = campaign.textContent.trim().split(' ');
        if (content.length > 30) {
            const excessWords = content.slice(30).join(' ');
            const truncatedContent = content.slice(0, 30).join(' ');
            campaign.innerHTML = truncatedContent + '...' +
                '<span class="hidden-content" style="display: none;">' + excessWords + '</span>';
            const seeMoreBtn = document.createElement('li');
            seeMoreBtn.textContent = 'See More';
            seeMoreBtn.classList.add('see-more-btn');
            // Add pointer cursor style
            seeMoreBtn.style.cursor = 'pointer';
            campaign.parentNode.appendChild(seeMoreBtn);

            seeMoreBtn.addEventListener('click', function() {
                const hiddenContent = this.previousElementSibling.querySelector('.hidden-content');
                if (hiddenContent.style.display === 'none') {
                    hiddenContent.style.display = 'inline';
                    this.textContent = 'See Less';
                } else {
                    hiddenContent.style.display = 'none';
                    this.textContent = 'See More';
                }
            });
        }
    });
});





        const slides = document.querySelector('.slides');
        const slideCount = document.querySelectorAll('.slide').length;
        const slideWidth = document.querySelector('.slide').clientWidth;
        let currentIndex = 0;

        setInterval(() => {
            currentIndex = (currentIndex + 1) % slideCount;
            slides.style.transform = `translateX(${-currentIndex * slideWidth}px)`;
        }, 4000);





  $(document).ready(function() {
            // Example: Preventing navigation link from refreshing the page
            $('a.nav-link').click(function(event) {
                event.preventDefault(); // Prevent default action (e.g., page refresh)
                
                // Get the href attribute of the clicked link
                var href = $(this).attr('href');
                
                // Perform your custom logic here
                console.log('Navigation link clicked! Performing custom action...');
                
                // Optionally, load new content or update UI dynamically here
                // Example: Load content using AJAX or manipulate DOM elements
                
                // For demonstration, you can simulate navigation
                // window.location.href = href;
            });
        });

</script>



<script type="text/javascript">
  function switchColor() {
    var body = document.body;
    var logoContainer = document.querySelector('.logo-container');

    // Define the color sequence (black, white)
    var colors = ["black", "white"];

    // Find the index of the current color in the sequence
    var currentIndex = colors.indexOf(body.style.backgroundColor);

    // Set the next color in the sequence
    var nextColor = colors[(currentIndex + 1) % colors.length];

    // Apply the new color to the body and other elements
    body.style.backgroundColor = nextColor;

    // Change background color and border of logo-container based on nextColor
    if (nextColor === "black") {
        logoContainer.style.backgroundColor = "";
        logoContainer.style.border = "none"; 
    } else {
        logoContainer.style.backgroundColor = ""; // or "transparent"
        logoContainer.style.border = "none";  // Remove border
    }

    // Other elements to be updated based on nextColor
    var header = document.querySelector('header');
    var footer = document.querySelector('footer');
    var sections = document.querySelectorAll('section, .left-aside, .right-aside');
    var textElements = document.querySelectorAll('h1, h2, p, li, nav a, .btn, .upper-post, .reaction, .campaign-content, .action-item, .action-item a, .carousel, .ad, .slide, .ad a');
    var buttons = document.querySelectorAll('button');
    var reactDivs = document.querySelectorAll('.react div');
    var loveCounts = document.querySelectorAll('[id^="love-count-"]');
    var viewCounts = document.querySelectorAll('#view-count');
    var commentCounts = document.querySelectorAll('.comment-count');

    // Update header background color based on nextColor
    if (nextColor === "black") {
        header.style.backgroundColor = "#333333";  // Darker gray when background is black
    } else {
        header.style.backgroundColor = nextColor;
    }

    footer.style.backgroundColor = nextColor;

    sections.forEach(function(section) {
        section.style.backgroundColor = nextColor;
    });

    var textColor = nextColor === "black" ? "white" : "black";
    header.style.color = textColor;
    footer.style.color = textColor;

    textElements.forEach(function(element) {
        element.style.color = textColor;
    });

    var buttonColor = nextColor === "black" ? "#262626" : "";
    buttons.forEach(function(button) {
        button.style.backgroundColor = buttonColor;

        if (nextColor === "black") {
            button.classList.add('button-hover');
        } else {
            button.classList.remove('button-hover');
            button.style.backgroundColor = "";
        }
    });

    reactDivs.forEach(function(reactDiv) {
        reactDiv.style.backgroundColor = nextColor === "black" ? "#262626" : "";

        var reactTextColor = nextColor === "black" ? "white" : "black";
        reactDiv.style.color = reactTextColor;

        if (nextColor === "black") {
            reactDiv.classList.add('react-hover');
        } else {
            reactDiv.classList.remove('react-hover');
            reactDiv.style.backgroundColor = "";
        }
    });

    var countTextColor = nextColor === "black" ? "white" : "black";
    loveCounts.forEach(function(element) {
        element.style.color = countTextColor;
    });
    viewCounts.forEach(function(element) {
        element.style.color = countTextColor;
    });
    commentCounts.forEach(function(element) {
        element.style.color = countTextColor;
    });
}

function toggleCommentForm() {
    var popup = document.getElementById("commentFormPopup");
    popup.style.display = "block";
}
</script>
</body>
</html>